[gd_scene load_steps=9 format=3 uid="uid://c62whoib4he8f"]

[ext_resource type="PackedScene" uid="uid://dklaxvd7swq26" path="res://Characters/Character.tscn" id="1_rubn6"]
[ext_resource type="Script" path="res://Characters/Bakery/baker.gd" id="2_tddji"]
[ext_resource type="Script" path="res://Characters/Resources/character_data.gd" id="3_xjbgb"]
[ext_resource type="Script" path="res://Characters/Bakery/frosting_gun.gd" id="4_lmnxi"]

[sub_resource type="Resource" id="Resource_cmdfg"]
resource_local_to_scene = true
script = ExtResource("3_xjbgb")
Team = "BAKERY"
max_health = 125
single_fire = false
base_damage = 5
special_damage = 0
projectile_speed = 0.0
projectile_damage = 5
max_ammo = 10
move_speed = 7.0
acceleration = 0.1
gravity = 30.0

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_qsloq"]

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_lckb1"]
emission_shape = 3
emission_box_extents = Vector3(0.1, 0.1, 0.1)
direction = Vector3(0, 0, -1)
spread = 0.99
gravity = Vector3(0, -1.446, 0)
initial_velocity_min = 21.15
initial_velocity_max = 21.15
color = Color(0, 0.541176, 0.87451, 1)
hue_variation_max = 0.68
attractor_interaction_enabled = false
collision_mode = 1
collision_friction = 0.86
collision_bounce = 0.27
collision_use_scale = true

[sub_resource type="SphereMesh" id="SphereMesh_irlaw"]

[node name="Baker" instance=ExtResource("1_rubn6")]
script = ExtResource("2_tddji")
character_stats = SubResource("Resource_cmdfg")

[node name="Human_Template_Male" parent="." index="1"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="Human_Template_Male/metarig" index="0"]
bones/6/rotation = Quaternion(-0.082008, -0.00370348, -0.00997785, 0.996575)
bones/8/position = Vector3(0.0183, 0.140569, 0.0783466)
bones/31/position = Vector3(-0.0183, 0.140569, 0.0783466)

[node name="RightHookBone" parent="Human_Template_Male/metarig/Skeleton3D" index="1"]
transform = Transform3D(-0.996636, 0.0819602, -5.96941e-05, -0.0809554, -0.984304, 0.156818, 0.0127941, 0.156295, 0.987628, -0.288997, 1.09301, 0.0555382)

[node name="LeftHookBone" parent="Human_Template_Male/metarig/Skeleton3D" index="2"]
transform = Transform3D(-0.996636, -0.0819603, 5.95488e-05, 0.0809555, -0.984304, 0.156818, -0.0127942, 0.156295, 0.987628, 0.288997, 1.09301, 0.0555382)

[node name="Physical Bone spine" parent="Human_Template_Male/metarig/Skeleton3D" index="3"]
transform = Transform3D(0.992291, 5.43858e-08, -3.57627e-07, 4.13295e-08, 0.999999, 2.38419e-07, -2.0929e-07, 2.68221e-07, 1, -5.3151e-08, 1.37348, 0.0166591)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.75929e-08, -0.363582, -0.0718589)
body_offset = Transform3D(0.992291, 5.43858e-08, -3.57627e-07, -1.2226e-08, 0.968338, 0.24964, -2.12981e-07, -0.249639, 0.96834, -5.3151e-08, 0.370009, -0.0211804)

[node name="Physical Bone spine005" parent="Human_Template_Male/metarig/Skeleton3D" index="4"]
transform = Transform3D(0.258821, -0.973646, 8.9407e-08, 0.96593, 0.25882, -5.66244e-07, 7.37883e-07, 4.51323e-07, 1, -2.93569e-09, 1.8518, 0.067414)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.127661, -0.0339358, -0.0544138)
body_offset = Transform3D(0.258821, -0.973646, 8.9407e-08, 0.948965, 0.254274, 0.186599, -0.180241, -0.0482951, 0.982438, -2.93569e-09, 0.139929, 0.0288095)

[node name="Physical Bone shoulderL" parent="Human_Template_Male/metarig/Skeleton3D" index="5"]
transform = Transform3D(0.989306, -0.145408, 1.72927e-06, 0.145598, 0.990154, -1.83986e-06, -6.28659e-05, 1.77125e-05, 0.999888, 0.223182, 1.51804, -0.000551346)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.189639, 0.118777, 0.0689451)
body_offset = Transform3D(0.501607, -0.0737934, 0.861795, 0.852622, -0.1259, -0.507037, 0.146121, 0.990077, -0.00022766, 0.0444727, 0.211602, -0.0898725)

[node name="Physical Bone forearmL" parent="Human_Template_Male/metarig/Skeleton3D" index="6"]
transform = Transform3D(0.999753, -1.11383e-06, 6.96776e-06, 9.30578e-06, -0.196528, 0.980374, -2.26698e-06, -0.980424, -0.19652, 0.265992, 1.24012, 0.025174)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00751314, 0.00264942, 0.132419)
body_offset = Transform3D(-0.996732, 0.0546243, -0.0552382, 0.0546332, -0.0120902, -0.998309, -0.0551961, -0.998361, 0.00906497, 0.0146585, 0.131817, 0.0018594)

[node name="Physical Bone handL" parent="Human_Template_Male/metarig/Skeleton3D" index="7"]
transform = Transform3D(1.00001, -0.000195227, 6.02957e-07, -9.70769e-06, 0.167403, -0.985879, 3.39665e-06, 0.985886, 0.167406, 0.262923, 0.987139, 0.0647338)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0260757, 0.00858835, -0.105509)
body_offset = Transform3D(-0.996645, 0.0011331, -0.0819547, -0.0819508, -0.0106699, 0.996569, 6.1387e-05, 0.99994, 0.010731, 0.0173315, 0.107376, -0.00745721)

[node name="Physical Bone shoulderR" parent="Human_Template_Male/metarig/Skeleton3D" index="8"]
transform = Transform3D(0.999566, -1.11177e-08, -8.81171e-08, 7.51938e-06, 1, 1.88331e-06, 3.30461e-06, -3.10392e-08, 1, -0.204764, 1.60435, 0.00570393)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.186545, 0.00368103, 0.0626955)
body_offset = Transform3D(0.506872, 7.36214e-05, -0.861891, -0.861518, -0.000570567, -0.507095, -0.000521378, 1, -0.000223989, -0.0405181, 0.192507, -0.00356972)

[node name="Physical Bone upper_armR" parent="Human_Template_Male/metarig/Skeleton3D" index="9"]
transform = Transform3D(-0.973782, -0.0769089, 0.214081, 0.217369, -0.0371926, 0.975368, -0.0670602, 0.996342, 0.0529389, -0.245863, 1.49223, 0.00332771)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000671713, -4.71422e-05, 0.129782)
body_offset = Transform3D(0.999999, -1.08257e-05, 8.97353e-06, 1.21987e-05, -3.64222e-05, -0.999988, 3.80725e-06, 0.999998, -3.20934e-05, -0.000672877, 0.129781, 5.13047e-05)

[node name="Physical Bone forearmR" parent="Human_Template_Male/metarig/Skeleton3D" index="10"]
transform = Transform3D(-0.996979, 0.0552055, 0.0546458, 0.0648807, 0.204985, 0.976604, 0.0427076, 0.977204, -0.207948, -0.279964, 1.22701, 0.0261209)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00153597, 0.000653759, 0.145575)
body_offset = Transform3D(1, -4.20213e-06, 1.79289e-05, 1.69082e-05, 0.000143453, -0.999991, -9.20147e-07, 0.999997, 0.000141993, -0.00153857, 0.145573, -0.000674427)

[node name="Physical Bone handR" parent="Human_Template_Male/metarig/Skeleton3D" index="11"]
transform = Transform3D(0.980346, 0.1967, -0.0154997, 0.107864, -0.468468, 0.876854, 0.165216, -0.861302, -0.48048, -0.288494, 1.06831, 0.0671545)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00020706, -0.00147226, 0.0268868)
body_offset = Transform3D(-0.983666, -0.169133, -0.0616857, 9.574e-07, 0.342619, -0.939457, 0.180028, -0.924121, -0.337028, 0.0016132, 0.0257634, 0.00766377)

[node name="Physical Bone thighL" parent="Human_Template_Male/metarig/Skeleton3D" index="12"]
transform = Transform3D(0.995051, 0.000740111, -0.0993144, 0.0992965, 0.0039571, 0.995033, 0.00113099, -0.996024, 0.00386286, 0.122449, 0.827298, 0.0158376)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000140537, 2.12782e-05, 0.247585)
body_offset = Transform3D(0.999994, 2.85776e-06, -1.53009e-05, -9.51704e-08, -1.36346e-05, -0.999985, 2.23517e-08, 0.996032, 2.83751e-06, -0.000136748, 0.247581, -2.18963e-05)

[node name="Physical Bone shinL" parent="Human_Template_Male/metarig/Skeleton3D" index="13"]
transform = Transform3D(0.997615, 0.000161445, -0.0692226, 0.069143, 0.038952, 0.997117, 0.00285275, -1.00035, 0.0388349, 0.164118, 0.335494, 0.00517855)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.38221e-05, 2.38102e-06, 0.249677)
body_offset = Transform3D(1.00001, 1.08266e-07, -2.29197e-06, 8.18436e-07, 1.26772e-05, -1.00027, 4.54951e-07, 1.00111, -7.39843e-06, 1.43945e-05, 0.249745, -5.36442e-07)

[node name="Physical Bone footL" parent="Human_Template_Male/metarig/Skeleton3D" index="14"]
transform = Transform3D(1, 1.63637e-07, -1.74136e-06, -1.47856e-07, -0.889707, 0.456529, -5.0664e-07, -0.456532, -0.889709, 0.18138, 0.0580916, 0.0509259)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.99204e-07, -9.09843e-05, 0.0623571)
body_offset = Transform3D(1, 3.09889e-08, -1.55299e-06, -1.86701e-07, -3.8743e-07, -1, 4.95786e-07, 1, 2.35438e-06, 5.96046e-07, 0.0623571, 9.08375e-05)

[node name="Physical Bone thighR" parent="Human_Template_Male/metarig/Skeleton3D" index="15"]
transform = Transform3D(0.995057, -0.000728751, 0.0993039, -0.0992972, 0.0039587, 0.995044, -0.00112333, -0.996024, 0.0038664, -0.122985, 0.82749, 0.0157946)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000415287, -2.2185e-05, 0.247445)
body_offset = Transform3D(1, 8.28772e-06, 3.88939e-06, 2.0032e-07, -1.63543e-05, -0.999994, -7.69028e-06, 0.996032, -6.5146e-07, -0.000416249, 0.247443, 2.22614e-05)

[node name="Physical Bone shinR" parent="Human_Template_Male/metarig/Skeleton3D" index="16"]
transform = Transform3D(0.997615, -0.000123372, 0.0692323, -0.0691432, 0.0397802, 0.997236, -0.00285286, -1.02102, 0.0388381, -0.164102, 0.335539, 0.00518041)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.23944e-08, 2.04574e-06, 0.249601)
body_offset = Transform3D(1.00001, 3.95651e-05, 3.75153e-06, -5.91375e-07, -1.34744e-05, -1.00039, -3.53903e-07, 1.02179, -5.90831e-06, -8.9407e-07, 0.249698, -6.15604e-07)

[node name="Physical Bone footR" parent="Human_Template_Male/metarig/Skeleton3D" index="17"]
transform = Transform3D(1, -7.68448e-07, 1.20142e-07, 1.20025e-06, -0.889707, 0.456531, -8.9408e-08, -0.456532, -0.889708, -0.18138, 0.0581512, 0.051009)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.57932e-07, 1.39714e-07, 0.0624039)
joint_rotation = Vector3(0, 0, 0)
body_offset = Transform3D(1, -6.358e-07, -6.82321e-08, -8.24056e-07, -6.85453e-07, -1, -1.15999e-06, 1, 1.49012e-07, -9.53674e-07, 0.0624039, -1.49012e-07)

[node name="AnimationPlayer" parent="Human_Template_Male" index="1"]
playback_default_blend_time = 0.0

[node name="AnimationTree" parent="." index="2"]
parameters/Movement/playback = SubResource("AnimationNodeStateMachinePlayback_qsloq")

[node name="ProjectileTimer" parent="Timers" index="1"]
wait_time = 10.0

[node name="FrostingGun" type="Node3D" parent="." index="6"]
script = ExtResource("4_lmnxi")

[node name="Frosting" type="GPUParticles3D" parent="FrostingGun" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.450174, 1.13343, 0)
emitting = false
amount = 100
lifetime = 16.71
one_shot = true
explosiveness = 0.55
process_material = SubResource("ParticleProcessMaterial_lckb1")
draw_pass_1 = SubResource("SphereMesh_irlaw")

[node name="FrostingTimer" type="Timer" parent="FrostingGun" index="1"]
wait_time = 3.0
one_shot = true

[node name="FrostingHitDetect" type="RayCast3D" parent="FrostingGun" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.33603, 0)
enabled = false
target_position = Vector3(0, 0, -1)
collision_mask = 2
debug_shape_custom_color = Color(0.137255, 0.117647, 1, 1)

[node name="HitDelayTimer" type="Timer" parent="FrostingGun" index="3"]
wait_time = 0.5

[connection signal="timeout" from="FrostingGun/FrostingTimer" to="FrostingGun" method="cease_fire"]

[editable path="Human_Template_Male"]
