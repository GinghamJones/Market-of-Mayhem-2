[gd_scene load_steps=14 format=3 uid="uid://bll33yjqetgyw"]

[ext_resource type="PackedScene" uid="uid://dklaxvd7swq26" path="res://Characters/Character.tscn" id="1_st53p"]
[ext_resource type="Script" path="res://Characters/Freight/freight.gd" id="2_g58n0"]
[ext_resource type="Script" path="res://Characters/Resources/character_data.gd" id="3_iwc84"]
[ext_resource type="Script" path="res://Characters/Freight/Lazer.gd" id="4_rek8k"]

[sub_resource type="Resource" id="Resource_6gkbg"]
resource_local_to_scene = true
script = ExtResource("3_iwc84")
Team = "Freight"
max_health = 150
single_fire = true
base_damage = 10
special_damage = 0
projectile_damage = 40
projectile_speed = 0.0
max_ammo = 10
move_speed = 5.0
acceleration = 0.5
gravity = 30.0
dodge_force = 15.0
punch_force = 8.0

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_vo8f0"]

[sub_resource type="Curve" id="Curve_jw53o"]
_data = [Vector2(0.00341297, 0.536364), 0.0, 0.0, 0, 0, Vector2(0.245734, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_qj8tr"]
curve = SubResource("Curve_jw53o")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_sixj4"]
direction = Vector3(0, 1, 0)
spread = 86.83
gravity = Vector3(0, 1, 0)
initial_velocity_min = 1.0
initial_velocity_max = 1.0
scale_curve = SubResource("CurveTexture_qj8tr")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3n7mq"]
transparency = 1
cull_mode = 2
albedo_color = Color(0.909804, 0.0862745, 0, 0.733333)
emission_enabled = true
emission = Color(0.909804, 0.0862745, 0, 1)
emission_energy_multiplier = 7.23

[sub_resource type="PlaneMesh" id="PlaneMesh_51spj"]
material = SubResource("StandardMaterial3D_3n7mq")
size = Vector2(0.05, 0.05)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2wgfu"]
albedo_color = Color(1, 0.113725, 0.160784, 0.807843)
emission_enabled = true
emission = Color(0.886275, 0.129412, 0, 1)
emission_energy_multiplier = 6.6

[sub_resource type="CapsuleMesh" id="CapsuleMesh_2i6ly"]
material = SubResource("StandardMaterial3D_2wgfu")
flip_faces = true
radius = 0.009
height = 0.097

[node name="Freight" instance=ExtResource("1_st53p")]
script = ExtResource("2_g58n0")
character_stats = SubResource("Resource_6gkbg")

[node name="Physical Bone Chest" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="1"]
transform = Transform3D(0.952222, -0.288309, -0.00819167, 0.00384343, 0.040942, -0.99005, 0.288546, 0.946904, 0.0402825, -0.058602, 0.248474, -0.578041)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000894356, -0.0250272, -0.122907)

[node name="Physical Bone spine005" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="2"]
transform = Transform3D(0.99178, -0.0815754, 0.0155175, 0.00113978, -0.16895, -0.963118, 0.084669, 0.959163, -0.169118, -0.0669101, 1.05003, -0.501995)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000537015, -0.0351718, 0.277338)

[node name="Physical Bone upper_armL" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="3"]
transform = Transform3D(-0.904731, -0.416919, -0.0381286, -0.294448, 0.568265, 0.762859, -0.298423, 0.700552, -0.639428, 0.275958, 0.428437, -0.310228)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00597528, 0.000285619, 0.232133)

[node name="Physical Bone forearmL" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="4"]
transform = Transform3D(-0.623731, -0.546224, 0.548849, -0.764832, 0.324458, -0.546813, 0.122293, -0.765011, -0.624151, 0.153026, 0.394397, -0.0168245)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00547182, 0.000879882, 0.243486)

[node name="Physical Bone upper_armR" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="5"]
transform = Transform3D(-0.933172, -0.273188, 0.211039, 0.148464, 0.23123, 0.956026, -0.312026, 0.928542, -0.175687, -0.452676, 0.382993, -0.618344)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00266575, -0.00206294, 0.231996)

[node name="Physical Bone forearmR" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="6"]
transform = Transform3D(-0.657301, -0.744902, -0.0102741, -0.664119, 0.590774, -0.443632, 0.338659, -0.28659, -0.88806, -0.49668, 0.279499, -0.360039)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00443995, 0.00518312, 0.24731)

[node name="Physical Bone Left_Thigh" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="7"]
transform = Transform3D(0.683669, 0.722849, -0.0238063, 0.358314, -0.312346, 0.872617, 0.624155, -0.607849, -0.473861, 0.0265407, -0.650677, -0.246933)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00178095, 0.00240529, 0.433664)

[node name="Physical Bone shinL" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="8"]
transform = Transform3D(0.673677, 0.708023, -0.151313, 0.116265, 0.0977016, 0.979542, 0.71786, -0.680093, -0.0169223, 0.0927024, -1.41312, -0.0397165)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00421687, 0.00170167, 0.393571)

[node name="Physical Bone footL" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="9"]
transform = Transform3D(0.959409, -0.085456, 0.240653, -0.226278, -0.721067, 0.64528, 0.119341, -0.678926, -0.715941, 0.132091, -1.88152, 0.0469684)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00202534, 0.00390747, 0.105767)

[node name="Physical Bone Right_Thigh" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="10"]
transform = Transform3D(0.700661, 0.702366, 0.0327499, -0.0592572, 0.0130157, 0.989184, 0.700538, -0.701135, 0.0512307, -0.21813, -0.69968, -0.711842)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00133073, 0.000993415, 0.430602)

[node name="Physical Bone shinR" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="11"]
transform = Transform3D(0.712353, 0.689888, -0.0753598, -0.240578, 0.347795, 0.899836, 0.65028, -0.625516, 0.415598, -0.200186, -1.48663, -0.899044)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00268478, -0.00105118, 0.395828)

[node name="Physical Bone footR" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="12"]
transform = Transform3D(0.723959, 0.413329, 0.534698, 0.0162745, -0.793091, 0.592443, 0.678042, -0.423338, -0.585095, -0.23077, -1.91107, -0.998452)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00517886, 0.00912805, 0.10976)

[node name="LeftHookAttachment" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="13"]
transform = Transform3D(-0.817224, -0.561738, -0.128822, -0.576071, 0.802769, 0.153955, 0.016932, 0.200027, -0.979644, 0.0179872, 0.536832, 0.139692)

[node name="RightHookAttachment" parent="NPC_Meat_Female/Meat_Female/Skeleton3D" index="14"]
transform = Transform3D(-0.611668, 0.665898, -0.427131, 0.214227, 0.659157, 0.720845, 0.761556, 0.349415, -0.545839, -0.495025, 0.396278, -0.141491)

[node name="CharacterAnimationTree" parent="." index="3"]
parameters/Movement/playback = SubResource("AnimationNodeStateMachinePlayback_vo8f0")

[node name="Lazer" type="Node3D" parent="." index="5"]
script = ExtResource("4_rek8k")

[node name="HitParticles" type="GPUParticles3D" parent="Lazer" index="0"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 1.89483, -0.357521)
emitting = false
amount = 25
lifetime = 0.4
fixed_fps = 60
interpolate = false
transform_align = 1
process_material = SubResource("ParticleProcessMaterial_sixj4")
draw_pass_1 = SubResource("PlaneMesh_51spj")

[node name="LazerHitDetect" type="RayCast3D" parent="Lazer" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.55072, -0.123684)
enabled = false
target_position = Vector3(0, 0, -10)
collision_mask = 3
collide_with_areas = true

[node name="LazerBeamRight" type="MeshInstance3D" parent="Lazer" index="2"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.0400248, 1.88354, -0.221763)
visible = false
mesh = SubResource("CapsuleMesh_2i6ly")

[node name="LazerBeamLeft" type="MeshInstance3D" parent="Lazer" index="3"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.0387782, 1.88354, -0.222913)
visible = false
mesh = SubResource("CapsuleMesh_2i6ly")

[node name="LazerTimer" type="Timer" parent="Lazer" index="4"]
wait_time = 2.073
one_shot = true

[node name="DamFrequencyLimit" type="Timer" parent="Lazer" index="5"]
wait_time = 0.2
one_shot = true

[node name="Raycast" type="RayCast3D" parent="Lazer" index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.86723, -0.16723)
target_position = Vector3(0, 0, -10)
collision_mask = 3

[node name="ProjectileTimer" parent="Timers" index="1"]
wait_time = 10.0

[connection signal="timeout" from="Lazer/LazerTimer" to="." method="stop_firing"]
[connection signal="timeout" from="Lazer/DamFrequencyLimit" to="Lazer" method="check_raycast"]

[editable path="NPC_Meat_Female"]
